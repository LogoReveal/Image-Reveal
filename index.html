<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>NEEV 2024 Logo Reveal</title>
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  height: 100vh;
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  Â  Â  }

Â  Â  Â  Â  body.no-interaction {
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  #intro-text {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  Â  Â  Â  font-size: 2em;
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.7);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 1s ease-in-out;
Â  Â  Â  Â  Â  Â  z-index: 3;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  #message {
Â  Â  Â  Â  Â  Â  font-size: 18px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 1s ease-in-out;
Â  Â  Â  Â  }

Â  Â  Â  Â  .grid {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(16, 1fr);
Â  Â  Â  Â  Â  Â  grid-template-rows: repeat(16, 1fr);
Â  Â  Â  Â  Â  Â  width: 80vmin; /* Responsive grid size */
Â  Â  Â  Â  Â  Â  height: 80vmin; /* Responsive grid size */
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  background-image: url('https://github.com/LogoReveal/Image-Reveal/blob/main/logo.png?raw=true');
Â  Â  Â  Â  Â  Â  background-size: cover;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 0.5s ease-in;
Â  Â  Â  Â  }

Â  Â  Â  Â  .grid.loaded {
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  .grid-square {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  transition: opacity 0.8s ease-in-out;
Â  Â  Â  Â  }

Â  Â  Â  Â  .grid-square .black-layer {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: black;
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  .grid-square .old-logo {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: url('https://github.com/LogoReveal/Image-Reveal/blob/main/old_logo.png?raw=true');
    background-size: contain; /* Ensure each square displays the full old image */
    background-position: center;
    background-repeat: no-repeat; /* Prevent tiling */
    z-index: 2;
    opacity: 1;
    transition: opacity 0.3s ease-in-out;
}


Â  Â  Â  Â  .grid-square.revealed .old-logo {
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  .highlight {
Â  Â  Â  Â  Â  Â  border: 5px solid red !important;
Â  Â  Â  Â  Â  Â  animation: highlightAnim 1.5s ease-in-out forwards;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes highlightAnim {
Â  Â  Â  Â  Â  Â  0% { transform: scale(1); opacity: 1; }
Â  Â  Â  Â  Â  Â  50% { transform: scale(1.2); opacity: 0.8; }
Â  Â  Â  Â  Â  Â  100% { transform: scale(1); opacity: 0; border-color: transparent; }
Â  Â  Â  Â  }

Â  Â  Â  Â  #progress {
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  color: green;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  transition: opacity 1s ease-in-out;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div id="intro-text">Help us reveal the logo, one piece at a time.</div>
Â  Â  <div id="message"></div>
Â  Â  <div class="grid"></div>
Â  Â  <div id="progress"></div>

Â  Â  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
Â  Â  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

Â  Â  <script>
Â  Â  Â  Â  // Firebase configuration
Â  Â  Â  Â  const firebaseConfig = {
Â  Â  Â  Â  Â  Â  apiKey: "AIzaSyD4wnK9...", // **REPLACE WITH YOUR API KEY**
Â  Â  Â  Â  Â  Â  authDomain: "logo-reveal-e1a65.firebaseapp.com", // **REPLACE IF DIFFERENT**
Â  Â  Â  Â  Â  Â  databaseURL: "https://logo-reveal-e1a65-default-rtdb.firebaseio.com/", // **REPLACE IF DIFFERENT**
Â  Â  Â  Â  Â  Â  projectId: "logo-reveal-e1a65", // **REPLACE IF DIFFERENT**
Â  Â  Â  Â  Â  Â  storageBucket: "logo-reveal-e1a65.appspot.com", // **REPLACE IF DIFFERENT**
Â  Â  Â  Â  Â  Â  messagingSenderId: "575668073504", // **REPLACE IF DIFFERENT**
Â  Â  Â  Â  Â  Â  appId: "1:575668073504:web:1d6db9bcdee11397e63845", // **REPLACE IF DIFFERENT**
Â  Â  Â  Â  Â  Â  measurementId: "G-D2GRKJ16Z6" // **REPLACE IF DIFFERENT**
Â  Â  Â  Â  };
Â  Â  Â  Â  firebase.initializeApp(firebaseConfig);
Â  Â  Â  Â  const database = firebase.database();

Â  Â  Â  Â  // Constants
Â  Â  Â  Â  const gridSize = 16;
Â  Â  Â  Â  const totalSquares = gridSize * gridSize;
Â  Â  Â  Â  const grid = document.querySelector('.grid');
Â  Â  Â  Â  const message = document.getElementById("message");
Â  Â  Â  Â  const progress = document.getElementById("progress");
Â  Â  Â  Â  const introText = document.getElementById("intro-text");

Â  Â  Â  Â  // Load revealed squares from Firebase
Â  Â  Â  Â  function loadRevealedSquares() {
Â  Â  Â  Â  Â  Â  const revealedRef = database.ref("revealedSquares");
Â  Â  Â  Â  Â  Â  let revealedIndexes = [];
Â  Â  Â  Â  Â  Â  let introShown = false;

Â  Â  Â  Â  Â  Â  revealedRef.on("value", (snapshot) => {
Â  Â  Â  Â  Â  Â  Â  Â  revealedIndexes = snapshot.val() || [];
Â  Â  Â  Â  Â  Â  Â  Â  if (!Array.isArray(revealedIndexes)) revealedIndexes = [];

Â  Â  Â  Â  Â  Â  Â  Â  // Clear and rebuild the grid
Â  Â  Â  Â  Â  Â  Â  Â  grid.innerHTML = "";
Â  Â  Â  Â  Â  Â  Â  Â  for (let i = 0; i < totalSquares; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const square = createGridSquare(i, revealedIndexes.includes(i));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grid.appendChild(square);
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // Show intro text and start reveal process
Â  Â  Â  Â  Â  Â  Â  Â  grid.classList.add('loaded');
Â  Â  Â  Â  Â  Â  Â  Â  document.body.classList.add('no-interaction');

Â  Â  Â  Â  Â  Â  Â  Â  if (!introShown) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  introText.style.opacity = 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  introText.style.opacity = 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.body.classList.remove('no-interaction');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  introShown = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  revealNextSquare();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 3000);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 500);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  revealNextSquare();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, (error) => {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Firebase Read Error:", error);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // Create a grid square
Â  Â  Â  Â  function createGridSquare(index, isRevealed) {
Â  Â  Â  Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  Â  Â  Â  div.classList.add('grid-square');
Â  Â  Â  Â  Â  Â  div.dataset.index = index;

Â  Â  Â  Â  Â  Â  const blackLayer = document.createElement('div');
Â  Â  Â  Â  Â  Â  blackLayer.classList.add('black-layer');
Â  Â  Â  Â  Â  Â  div.appendChild(blackLayer);

Â  Â  Â  Â  Â  Â  const oldLogo = document.createElement('div');
Â  Â  Â  Â  Â  Â  oldLogo.classList.add('old-logo');
Â  Â  Â  Â  Â  Â  div.appendChild(oldLogo);

Â  Â  Â  Â  Â  Â  if (isRevealed) {
Â  Â  Â  Â  Â  Â  Â  Â  div.classList.add('revealed');
Â  Â  Â  Â  Â  Â  Â  Â  blackLayer.remove();
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  return div;
Â  Â  Â  Â  }

Â  Â  Â  Â  // Reveal the next square
Â  Â  Â  Â  function revealNextSquare() {
Â  Â  Â  Â  Â  Â  const revealedRef = database.ref("revealedSquares");
Â  Â  Â  Â  Â  Â  let revealedIndexes = [];
Â  Â  Â  Â  Â  Â  let revealing = false;

Â  Â  Â  Â  Â  Â  revealedRef.once("value", (snapshot) => {
Â  Â  Â  Â  Â  Â  Â  Â  revealedIndexes = snapshot.val() || [];
Â  Â  Â  Â  Â  Â  Â  Â  if (!Array.isArray(revealedIndexes)) revealedIndexes = [];

Â  Â  Â  Â  Â  Â  Â  Â  const remainingSquares = [...Array(totalSquares).keys()].filter(i => !revealedIndexes.includes(i));

Â  Â  Â  Â  Â  Â  Â  Â  if (remainingSquares.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newIndex = remainingSquares[Math.floor(Math.random() * remainingSquares.length)];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  revealedIndexes.push(newIndex);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newSquare = document.querySelector(`.grid-square[data-index="${newIndex}"]`);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (newSquare) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  revealing = true;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  message.innerText = "A new part of the logo is about to be revealed...";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  message.style.opacity = 1;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newSquare.classList.add("highlight");

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newSquare.addEventListener('animationend', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newSquare.classList.add("revealed");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newSquare.querySelector('.black-layer')?.remove();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  message.innerText = "Another piece is transformed! Letâ€™s complete the logo together.";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const revealedCount = revealedIndexes.length;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  progress.innerText = `${Math.round((revealedCount / totalSquares) * 100)}% revealed`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  progress.style.opacity = 1;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  revealedRef.set(revealedIndexes)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(() => console.log("Firebase Updated Successfully"))
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .catch((error) => console.error("Firebase Write Error:", error));

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(revealNextSquare, 500);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  revealing = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, { once: true });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 1000);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 1000);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  message.innerText = "The entire logo has been revealed! ðŸŽ‰";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  message.style.opacity = 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const revealedCount = revealedIndexes.length;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  progress.innerText = `${Math.round((revealedCount / totalSquares) * 100)}% revealed`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  progress.style.opacity = 1;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, (error) => {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Firebase Read Error:", error);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // Initialize
Â  Â  Â  Â  loadRevealedSquares();
Â  Â  </script>
</body>
</html>
